object_type,object_name,column_name,data_type,nullable,default,description
table,teachers,id,bigserial,not null,,"Primary key"
table,teachers,name,text,not null,,"Teacher name"
table,teachers,wechat_id,text,,"","WeCom user id"
table,teachers,is_active,boolean,not null,"true","Active flag"
table,teachers,created_at,timestamptz,not null,"now()","Created timestamp"
table,classes,id,bigserial,not null,,"Primary key"
table,classes,name,text,not null,,"Class name"
table,classes,room_id,text,,"","WeCom room id"
table,classes,main_teacher_id,bigint,,"","FK to teachers.id"
table,classes,advisor_id,bigint,,"","FK to teachers.id"
table,classes,is_active,boolean,not null,"true","Active flag"
table,classes,created_at,timestamptz,not null,"now()","Created timestamp"
table,students,id,bigserial,not null,,"Primary key"
table,students,name,text,not null,,"Student name"
table,students,current_class_id,bigint,,"","FK to classes.id"
table,students,status,text,not null,"'active'","Status label"
table,students,profile_tags,jsonb,not null,"'{}'::jsonb","Profile tags"
table,students,points,integer,not null,"0","Points total"
table,students,created_at,timestamptz,not null,"now()","Created timestamp"
table,parents,id,bigserial,not null,,"Primary key"
table,parents,wechat_id,text,not null,,"WeCom user id (unique)"
table,parents,name,text,,"","Parent name"
table,parents,phone,text,,"","Phone"
table,parents,created_at,timestamptz,not null,"now()","Created timestamp"
table,student_parent_rel,student_id,bigint,not null,,"FK to students.id"
table,student_parent_rel,parent_id,bigint,not null,,"FK to parents.id"
table,student_parent_rel,relation,text,not null,,"Relationship"
table,student_parent_rel,is_primary,boolean,not null,"false","Primary contact flag"
table,student_parent_rel,created_at,timestamptz,not null,"now()","Created timestamp"
table,class_enrollments,id,bigserial,not null,,"Primary key"
table,class_enrollments,student_id,bigint,not null,,"FK to students.id"
table,class_enrollments,class_id,bigint,not null,,"FK to classes.id"
table,class_enrollments,start_date,timestamptz,not null,,"Enrollment start"
table,class_enrollments,end_date,timestamptz,,"","Enrollment end"
table,class_enrollments,reason,text,,"","Transfer reason"
table,class_enrollments,created_at,timestamptz,not null,"now()","Created timestamp"
table,student_works,id,bigserial,not null,,"Primary key"
table,student_works,student_id,bigint,not null,,"FK to students.id"
table,student_works,class_id,bigint,not null,,"FK to classes.id"
table,student_works,submit_time,timestamptz,not null,,"Submission time"
table,student_works,msg_id,text,,"","WeCom message id"
table,student_works,teacher_comment,text,,"","Teacher comment"
table,student_works,score,numeric(5,2),,"","Score"
table,student_works,source,text,not null,,"Source label"
table,student_works,work_type,text,not null,,"Work type"
table,student_works,status,text,not null,,"Status"
table,student_works,created_at,timestamptz,not null,"now()","Created timestamp"
table,student_works,homework_id,bigint,,"","FK to homework_assignments.id"
table,student_performance,id,bigserial,not null,,"Primary key"
table,student_performance,student_id,bigint,not null,,"FK to students.id"
table,student_performance,class_id,bigint,not null,,"FK to classes.id"
table,student_performance,evaluation_date,timestamptz,not null,,"Evaluation date"
table,student_performance,attendance_rate,numeric(5,2),,"","Attendance rate"
table,student_performance,participation_score,integer,,"","Participation score 0-100"
table,student_performance,behavior_score,integer,,"","Behavior score 0-100"
table,student_performance,notes,text,,"","Notes"
table,student_performance,evaluated_by,bigint,not null,,"FK to teachers.id"
table,student_performance,created_at,timestamptz,not null,"now()","Created timestamp"
table,homework_assignments,id,bigserial,not null,,"Primary key"
table,homework_assignments,class_id,bigint,not null,,"FK to classes.id"
table,homework_assignments,assigned_by,bigint,not null,,"FK to teachers.id"
table,homework_assignments,title,text,not null,,"Title"
table,homework_assignments,description,text,,"","Description"
table,homework_assignments,due_date,timestamptz,,"","Due date"
table,homework_assignments,msg_id,text,,"","WeCom message id"
table,homework_assignments,created_at,timestamptz,not null,"now()","Created timestamp"
table,teacher_specializations,teacher_id,bigint,not null,,"FK to teachers.id"
table,teacher_specializations,specialization,text,not null,,"Specialization"
table,teacher_specializations,level,text,,"","Level"
table,teacher_specializations,created_at,timestamptz,not null,"now()","Created timestamp"
table,class_schedule,id,bigserial,not null,,"Primary key"
table,class_schedule,class_id,bigint,not null,,"FK to classes.id"
table,class_schedule,day_of_week,integer,not null,,"Day of week (1-7)"
table,class_schedule,start_time,time,not null,,"Start time"
table,class_schedule,end_time,time,not null,,"End time"
table,class_schedule,effective_from,date,not null,,"Effective from"
table,class_schedule,effective_to,date,,"","Effective to"
table,class_schedule,created_at,timestamptz,not null,"now()","Created timestamp"
table,student_attendance,id,bigserial,not null,,"Primary key"
table,student_attendance,student_id,bigint,not null,,"FK to students.id"
table,student_attendance,class_id,bigint,not null,,"FK to classes.id"
table,student_attendance,schedule_id,bigint,not null,,"FK to class_schedule.id"
table,student_attendance,status,text,not null,,"Status present/late/absent/excused"
table,student_attendance,notes,text,,"","Notes"
table,student_attendance,recorded_by,bigint,not null,,"FK to teachers.id"
table,student_attendance,created_at,timestamptz,not null,"now()","Created timestamp"
table,wecom_chat_logs,msgid,character varying(255),not null,,"Message id"
table,wecom_chat_logs,action,character varying(50),,"","Action"
table,wecom_chat_logs,msgtype,character varying(50),,"","Message type"
table,wecom_chat_logs,msgtime,timestamp with time zone,,"","Message time"
table,wecom_chat_logs,from_user_id,character varying(255),,"","Sender"
table,wecom_chat_logs,room_id,character varying(255),,"","Room id"
table,wecom_chat_logs,tolist,text[],,"","Recipient list"
table,wecom_chat_logs,content_payload,jsonb,,"","Content payload"
table,wecom_chat_logs,raw_data,jsonb,,"","Raw data"
table,wecom_chat_logs,created_at,timestamp without time zone,,"CURRENT_TIMESTAMP","Ingested timestamp"
view,v_messages,msgid,character varying(255),n/a,,"Message id"
view,v_messages,msgtime,timestamp with time zone,n/a,,"Message time"
view,v_messages,msgtype,character varying(50),n/a,,"Message type"
view,v_messages,from_user_id,character varying(255),n/a,,"Sender"
view,v_messages,room_id,character varying(255),n/a,,"Room id"
view,v_messages,content_payload,jsonb,n/a,,"Content payload"
view,v_messages,raw_data,jsonb,n/a,,"Raw data"
view,v_messages,content_text,text,n/a,,"Text content"
view,v_messages,conversation_id,text,n/a,,"Room or direct conversation id"
view,v_conversation_members,conversation_id,text,n/a,,"Room or direct conversation id"
view,v_conversation_members,member_id,text,n/a,,"Member id"
view,v_parent_communications,parent_id,bigint,n/a,,"Parent id"
view,v_parent_communications,parent_name,text,n/a,,"Parent name"
view,v_parent_communications,student_id,bigint,n/a,,"Student id"
view,v_parent_communications,student_name,text,n/a,,"Student name"
view,v_parent_communications,class_id,bigint,n/a,,"Class id"
view,v_parent_communications,class_name,text,n/a,,"Class name"
view,v_parent_communications,msgtime,timestamp with time zone,n/a,,"Message time"
view,v_parent_communications,content_text,text,n/a,,"Text content"
view,v_parent_communications,conversation_id,text,n/a,,"Conversation id"
view,v_parent_communications,communication_type,text,n/a,,"Group or direct"
view,v_parent_communications,teacher_id,bigint,n/a,,"Teacher id"
view,v_parent_communications,teacher_name,text,n/a,,"Teacher name"
view,v_student_performance_summary,student_id,bigint,n/a,,"Student id"
view,v_student_performance_summary,student_name,text,n/a,,"Student name"
view,v_student_performance_summary,class_id,bigint,n/a,,"Class id"
view,v_student_performance_summary,class_name,text,n/a,,"Class name"
view,v_student_performance_summary,total_homework_assigned,bigint,n/a,,"Assigned homework count"
view,v_student_performance_summary,total_homework_submitted,bigint,n/a,,"Submitted homework count"
view,v_student_performance_summary,avg_attendance_rate,numeric,n/a,,"Average attendance rate"
view,v_student_performance_summary,avg_participation_score,numeric,n/a,,"Average participation score"
view,v_student_performance_summary,avg_behavior_score,numeric,n/a,,"Average behavior score"
view,v_student_performance_summary,total_points,integer,n/a,,"Total points"
view,v_student_performance_summary,profile_tags,jsonb,n/a,,"Profile tags"
view,v_class_performance_summary,class_id,bigint,n/a,,"Class id"
view,v_class_performance_summary,class_name,text,n/a,,"Class name"
view,v_class_performance_summary,main_teacher,text,n/a,,"Main teacher name"
view,v_class_performance_summary,advisor,text,n/a,,"Advisor name"
view,v_class_performance_summary,student_count,bigint,n/a,,"Student count"
view,v_class_performance_summary,total_homework_assigned,bigint,n/a,,"Assigned homework count"
view,v_class_performance_summary,avg_attendance_rate,numeric,n/a,,"Average attendance rate"
view,v_class_performance_summary,avg_participation_score,numeric,n/a,,"Average participation score"
view,v_class_performance_summary,avg_behavior_score,numeric,n/a,,"Average behavior score"
